{"mappings":"AAAA,IAAIA,EAAOC,SAASC,cAAc,QAC9BC,EAAUF,SAASC,cAAc,yBACjCE,EAAcH,SAASI,eAAe,eACtCC,EAAaL,SAASI,eAAe,cACrCE,EAAQ,IAAIC,UAAUC,MAAMR,SAASI,eAAe,iBACvCJ,SAASS,iBAAiB,qBAIjCV,EAALW,iBAAiB,UACtBC,eAAwBC,GACtBA,EAAEC,iBACFX,EAAQY,UAAUC,IAAI,YACtBV,EAAWW,MAAMC,QAAU,OAC3B,IAAIC,EAAW,IAAIC,SAASpB,GAyB1B,GAxBFA,EAAKe,UAAUC,IAAI,iBAqBLf,SAASS,iBACrB,6CAEaW,OAoBLjB,EAAYa,MAAMC,QAAU,OAC5BZ,EAAWW,MAAMC,QAAU,QAC3Bf,EAAQY,UAAUO,OAAO,gBAtBZ,CACblB,EAAYa,MAAMC,QAAU,cACXK,MAAM,gBAAiB,CACxCC,OAAQ,OACRC,QAAS,CACD,eAAgB,kCAExBC,YAAa,cACbC,KAAMR,KAEGS,IAETxB,EAAYa,MAAMC,QAAU,OAC5BX,EAAMsB,SAENzB,EAAYa,MAAMC,QAAU,OAC5BZ,EAAWW,MAAMC,QAAU,QAC3Bf,EAAQY,UAAUO,OAAO,Y","sources":["src/js/post.js"],"sourcesContent":["let form = document.querySelector('form');\nlet sbm_btn = document.querySelector('button[type=\"submit\"]');\nlet sendingForm = document.getElementById('sendingForm');\nlet noSendForm = document.getElementById('noSendForm');\nlet modal = new bootstrap.Modal(document.getElementById('modalSuccess'));\nlet checkboxes = document.querySelectorAll('.driveCat:checked');\n\n\n// рабочий код!!!!!!!!!!\nform.addEventListener('submit', onSubmit);\nasync function onSubmit(e) {\n  e.preventDefault();\n  sbm_btn.classList.add('disabled');\n  noSendForm.style.display = 'none';\n  let formData = new FormData(form);\n  form.classList.add('was-validated');\n\n\n            // якщо Не володіє англ, видаляє з форми рівень мови\n//  if (document.getElementById('no-english').checked) {\n//     formData.delete('engLevel');\n//   }\n            \n            // якщо володіє англ, додає рівень мови \n//  if (document.getElementById('english').checked) {\n//     let engLevel = document.getElementById('engLevel').value;\n//     formData.set('contact_cf_42db67815b80356236935b0078219d2fcc5f348f', 'Володію, ' + engLevel);\n//   }\n\n\n            //  якщо має водійське, додає вибрані чекбокси в одну змінну.\n//   let checkboxes = document.querySelectorAll('.driveCat:checked');\n//   let driveCategories = Array.from(checkboxes).map((checkbox) => checkbox.value);\n//   formData.append('driveCategories', driveCategories.join(', '));\n\n\n  let invalid = document.querySelectorAll(\n    'form input:invalid, form textarea:invalid'\n  );\n    if (!invalid.length) {\n            sendingForm.style.display = 'flex';\n        let response = await fetch('./webhook.php', {\n            method: 'POST',\n            headers: {\n                    'Content-Type': 'application/json;charset=utf-8'\n                    },\n            credentials: 'same-origin',\n            body: formData,\n        });\n        if (response.ok) {\n            // let result = await response.json();\n            sendingForm.style.display = 'none';\n            modal.show();\n        } else {\n            sendingForm.style.display = 'none';\n            noSendForm.style.display = 'block';\n            sbm_btn.classList.remove('disabled');\n        }\n    } else {\n            sendingForm.style.display = 'none';\n            noSendForm.style.display = 'block';\n            sbm_btn.classList.remove('disabled');\n        }\n}"],"names":["$05bd991c5ad497cd$var$form","document","querySelector","$05bd991c5ad497cd$var$sbm_btn","$05bd991c5ad497cd$var$sendingForm","getElementById","$05bd991c5ad497cd$var$noSendForm","$05bd991c5ad497cd$var$modal","bootstrap","Modal","querySelectorAll","addEventListener","async","e","preventDefault","classList","add","style","display","formData","FormData","length","remove","fetch","method","headers","credentials","body","ok","show"],"version":3,"file":"questionnaire.b2d9effc.js.map"}